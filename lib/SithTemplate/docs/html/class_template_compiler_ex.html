<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>SithTemplate: TemplateCompilerEx Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>TemplateCompilerEx Class Reference</h1><!-- doxytag: class="TemplateCompilerEx" -->Primary compiler driver.  
<a href="#_details">More...</a>
<p>

<p>
<a href="class_template_compiler_ex-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#1e3e1ada9beabf25c6ae30b2978b44c2">__construct</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#1e3e1ada9beabf25c6ae30b2978b44c2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#8d7a65c59cb37d96d9ebc5c655a8a1e7">reset</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resets compiler to pristine state, and loads plugins specified in <code>'loadPlugins'</code> setting.  <a href="#8d7a65c59cb37d96d9ebc5c655a8a1e7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#13570ae4a6d834431eeb3c84a5051ac3">compile</a> (<a class="el" href="interface_i_template_i_o_driver.html">ITemplateIODriver</a> $io, $template)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compiles given template into output package.  <a href="#13570ae4a6d834431eeb3c84a5051ac3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#91899408f7ddf3173a8932bb8277aad7">handleChildren</a> (array &amp;$children)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Generates code from given node's children.  <a href="#91899408f7ddf3173a8932bb8277aad7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#616eb81be4f686387ecd3f778eca26a5">createBlock</a> ($block, <a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $node)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates code block from raw node.  <a href="#616eb81be4f686387ecd3f778eca26a5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#773e98ffac99fdbe9f8934768f840d3c">handleNode</a> (<a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $node)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates code from given node.  <a href="#773e98ffac99fdbe9f8934768f840d3c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#8efc4fef1f377e69631fe3de4c2033e3">parseVariableExpression</a> (<a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $node, $variable)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parses variable expression, and creates runtime PHP access code.  <a href="#8efc4fef1f377e69631fe3de4c2033e3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#0e954efa4b344518798797fe3bc6dd14">parseFilterChain</a> (<a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $node, $filterExpr, $code)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handles filter chains.  <a href="#0e954efa4b344518798797fe3bc6dd14"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#8f7f10bdd17ee4be906b39cff3f0d13d">raise</a> (<a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $node, $message, $code)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Raises an error, appending "(in template &lt;file&gt; somewhere around line &lt;line&gt;)" using given node.  <a href="#8f7f10bdd17ee4be906b39cff3f0d13d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#f8bc3411f0f8bcfbd153a8d56f0ae2e7">raiseIf</a> ($cond, <a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $node, $message, $code)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Shorthand for conditional call to <a class="el" href="class_template_compiler_ex.html#8f7f10bdd17ee4be906b39cff3f0d13d">TemplateCompilerEx::raise</a>.  <a href="#f8bc3411f0f8bcfbd153a8d56f0ae2e7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#9ce1b5f9a87d8fdbadfad18bb440efff">findAlternativeBranch</a> (<a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $node, $tag)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used to find and isolate alternative branch of given node, starting with given inline tag.  <a href="#9ce1b5f9a87d8fdbadfad18bb440efff"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#0cee437cbd376a2ad926de8b745e120c">generateUniqueBlock</a> ($idPrefix, $blockPrefix= 'custom:', $keyLength=5)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Generates prefixed block name that is guaranteed to be unique in current template.  <a href="#0cee437cbd376a2ad926de8b745e120c"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#7436ce4d99eb25b14012d0fea3329545">$settings</a> = null</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Current settings (reference to <a class="el" href="class_template_environ.html#1a6916c9094781e70523b3ed7ba20b68">TemplateEnviron::$settings</a>).  <a href="#7436ce4d99eb25b14012d0fea3329545"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#c6a93435059bcde30df1f24bfbfa53e3">$plugins</a> = null</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Registry of available plugins.  <a href="#c6a93435059bcde30df1f24bfbfa53e3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#e1e96f5d9cdab5a8cef660e9bd0347c1">$loadedPlugins</a> = array()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Registry of loaded plugins (per-template).  <a href="#e1e96f5d9cdab5a8cef660e9bd0347c1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#6c58447a001891500c54f1e9afc30b20">$blocks</a> = array()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Already constructed code blocks.  <a href="#6c58447a001891500c54f1e9afc30b20"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#a33edba89e0e64230b47973bbf33ef4e">$metadata</a> = array()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Template's metadata.  <a href="#a33edba89e0e64230b47973bbf33ef4e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#47169b58844fe3ddabd63f7d6af5067d">$className</a> = null</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Template's classname.  <a href="#47169b58844fe3ddabd63f7d6af5067d"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#8c314644ad54b574e55cce1e56bf5d33">createAST</a> (&amp;$tpl)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates and returns an Abstract Syntax Tree of given template.  <a href="#8c314644ad54b574e55cce1e56bf5d33"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#2138fe87678a9a13b2d6f7da426a7459">parserGetNextToken</a> (array &amp;$tokens)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fetches next token from given stream, preprocesses it, and stores it in <a class="el" href="class_template_compiler_ex.html#96c1fa9a15fb7c1a36a3a212073f97f4">TemplateCompilerEx::$parserCurrentToken</a>.  <a href="#2138fe87678a9a13b2d6f7da426a7459"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#db1366c4bf94900c7b8e765caf1d43a6">parserEncounteredEndTag</a> (<a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $node, $tag, $type)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks whether the parser has encountered ending tag with given name.  <a href="#db1366c4bf94900c7b8e765caf1d43a6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#c14ed87a62f7b5a59b0e9fe5ce72b4b6">createNodeFromToken</a> (<a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $node)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Converts current token's array into the node, and adds it to given node's children.  <a href="#c14ed87a62f7b5a59b0e9fe5ce72b4b6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#9cc09b0d1f776e7f4361e9e41dd3bb10">parseTokenStream</a> (<a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $node, array &amp;$tokens, $parseUntil=null, $blockTagType=null)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parses token stream until it runs out of tokens, or when it encounters given tag name.  <a href="#9cc09b0d1f776e7f4361e9e41dd3bb10"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#3f16537377363532ad1d4fd33b6a4fca">generateCode</a> (<a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $root)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructs blocks and generates code for the entire AST.  <a href="#3f16537377363532ad1d4fd33b6a4fca"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#f0951cb966c81753464771dfaeffa625">handleTag</a> (<a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $node)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handles <code>'blockTag'</code> and 'inlineTag' nodes.  <a href="#f0951cb966c81753464771dfaeffa625"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#d4a05c2ff0b4e3ae9ee530780dc129b1">handleVariable</a> (<a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $node)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handles <code>'var'</code> node.  <a href="#d4a05c2ff0b4e3ae9ee530780dc129b1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#9e9d99501cd4def7eb25dc93cbef94b5">generateVariableAST</a> ($variable)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Generates syntax tree (using nested arrays ATM) from given variable expression.  <a href="#9e9d99501cd4def7eb25dc93cbef94b5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#f68b6944da2fc99dfda0c7a89f11656d">generateVariableCode</a> (<a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $node, &amp;$ast)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Recursively parses variable AST, and generates PHP access code.  <a href="#f68b6944da2fc99dfda0c7a89f11656d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#a45b715a26c3bd45064f4eee890c1dad">commonVerifyElement</a> (<a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $node, $element, &amp;$name, array &amp;$args)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verifies correctness of given element.  <a href="#a45b715a26c3bd45064f4eee890c1dad"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#49ac9c78629669903684589ebcd76033">handleLoadBuiltin</a> (<a class="el" href="class_template_compiler_ex.html">TemplateCompilerEx</a> $compiler, <a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $node, &amp;$tag, array &amp;$args)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handler for <code>load</code> built-in tag.  <a href="#49ac9c78629669903684589ebcd76033"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#c5ba453fe0497c6a97e01b3ecc7b9c30">handleCommentBuiltin</a> (<a class="el" href="class_template_compiler_ex.html">TemplateCompilerEx</a> $compiler, <a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $node, &amp;$tag, array &amp;$args)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handler for <code>comment</code> built-in tag.  <a href="#c5ba453fe0497c6a97e01b3ecc7b9c30"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#db76060dfb9e369b12ee21bea4a51b8d">runHooks</a> ($hookPoint, array $args)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Runs handlers associated with given hook-point.  <a href="#db76060dfb9e369b12ee21bea4a51b8d"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#96c1fa9a15fb7c1a36a3a212073f97f4">$parserCurrentToken</a> = null</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Currently processed token.  <a href="#96c1fa9a15fb7c1a36a3a212073f97f4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#04c4c26c3f5b84a7f2743fd6253fbce9">$parserCurrentLine</a> = 1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Currently processed line (approx).  <a href="#04c4c26c3f5b84a7f2743fd6253fbce9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#f3d5cc74f7c0cc06676b50a5efe95112">$parserCurrentFile</a> = null</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Currently processed template.  <a href="#f3d5cc74f7c0cc06676b50a5efe95112"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_template_compiler_ex.html#b61b2762e9cea921fd26a4153067f983">$parserTokenRegexp</a> = '~(\{\%.*?\%\})|(\{\{.*?\}\})|(\{\#.*?\#\})~u'</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Regular expression used to split template into tokens.  <a href="#b61b2762e9cea921fd26a4153067f983"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Primary compiler driver. 
<p>
It's responsible for creating the AST, and generating the code.<p>
Warning, large strings and heavy recursion ahead. 
<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00029">29</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="1e3e1ada9beabf25c6ae30b2978b44c2"></a><!-- doxytag: member="TemplateCompilerEx::__construct" ref="1e3e1ada9beabf25c6ae30b2978b44c2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::__construct           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00082">82</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="8d7a65c59cb37d96d9ebc5c655a8a1e7"></a><!-- doxytag: member="TemplateCompilerEx::reset" ref="8d7a65c59cb37d96d9ebc5c655a8a1e7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::reset           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Resets compiler to pristine state, and loads plugins specified in <code>'loadPlugins'</code> setting. 
<p>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00102">102</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

<p>Referenced by <a class="el" href="_compiler_ex_8php_source.html#l00117">compile()</a>.</p>

</div>
</div><p>
<a class="anchor" name="13570ae4a6d834431eeb3c84a5051ac3"></a><!-- doxytag: member="TemplateCompilerEx::compile" ref="13570ae4a6d834431eeb3c84a5051ac3" args="(ITemplateIODriver $io, $template)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::compile           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_i_template_i_o_driver.html">ITemplateIODriver</a> $&nbsp;</td>
          <td class="paramname"> <em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>template</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compiles given template into output package. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$io</em>&nbsp;</td><td>Used I/O driver </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$template</em>&nbsp;</td><td>Template name </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00117">117</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

<p>References <a class="el" href="interface_i_template_i_o_driver.html#4422ce31a10074ea6af13594efd757b1">ITemplateIODriver::className()</a>, <a class="el" href="_compiler_ex_8php_source.html#l00174">createAST()</a>, <a class="el" href="_error_8php_source.html#l00032">TemplateError::E_IO_LOAD_FAILURE</a>, <a class="el" href="_error_8php_source.html#l00037">TemplateError::E_IO_SAVE_FAILURE</a>, <a class="el" href="_compiler_ex_8php_source.html#l00317">generateCode()</a>, <a class="el" href="interface_i_template_i_o_driver.html#58d4f66a849626b7341eafeb3f456c03">ITemplateIODriver::loadTemplate()</a>, <a class="el" href="_utils_8php_source.html#l00153">TemplateUtils::parseIODSN()</a>, <a class="el" href="_compiler_ex_8php_source.html#l00102">reset()</a>, <a class="el" href="interface_i_template_i_o_driver.html#09fcd13602951d6617d9af68118ef851">ITemplateIODriver::saveMetadata()</a>, and <a class="el" href="interface_i_template_i_o_driver.html#ce0d5330b5b82578b4d3a5021eb1cdd7">ITemplateIODriver::saveTemplate()</a>.</p>

</div>
</div><p>
<a class="anchor" name="8c314644ad54b574e55cce1e56bf5d33"></a><!-- doxytag: member="TemplateCompilerEx::createAST" ref="8c314644ad54b574e55cce1e56bf5d33" args="(&amp;$tpl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::createAST           </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>tpl</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates and returns an Abstract Syntax Tree of given template. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$tpl</em>&nbsp;</td><td>Source template to parse </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Root node of the constructed AST </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_template_node_ex.html" title="Class-container for AST nodes.">TemplateNodeEx</a> </dd></dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00174">174</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

<p>References <a class="el" href="_compiler_ex_8php_source.html#l00274">parseTokenStream()</a>.</p>

<p>Referenced by <a class="el" href="_compiler_ex_8php_source.html#l00117">compile()</a>.</p>

</div>
</div><p>
<a class="anchor" name="2138fe87678a9a13b2d6f7da426a7459"></a><!-- doxytag: member="TemplateCompilerEx::parserGetNextToken" ref="2138fe87678a9a13b2d6f7da426a7459" args="(array &amp;$tokens)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::parserGetNextToken           </td>
          <td>(</td>
          <td class="paramtype">array &amp;$&nbsp;</td>
          <td class="paramname"> <em>tokens</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Fetches next token from given stream, preprocesses it, and stores it in <a class="el" href="class_template_compiler_ex.html#96c1fa9a15fb7c1a36a3a212073f97f4">TemplateCompilerEx::$parserCurrentToken</a>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>$tokens</em>&nbsp;</td><td>Token stream (array of tokens) </td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>false</em>&nbsp;</td><td>When there is no more tokens in the stream </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>true</em>&nbsp;</td><td>Otherwise </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00191">191</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

<p>References <a class="el" href="_utils_8php_source.html#l00057">TemplateUtils::split()</a>, and <a class="el" href="_utils_8php_source.html#l00079">TemplateUtils::splitEscaped()</a>.</p>

<p>Referenced by <a class="el" href="_compiler_ex_8php_source.html#l00274">parseTokenStream()</a>.</p>

</div>
</div><p>
<a class="anchor" name="db1366c4bf94900c7b8e765caf1d43a6"></a><!-- doxytag: member="TemplateCompilerEx::parserEncounteredEndTag" ref="db1366c4bf94900c7b8e765caf1d43a6" args="(TemplateNodeEx $node, $tag, $type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::parserEncounteredEndTag           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks whether the parser has encountered ending tag with given name. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$node</em>&nbsp;</td><td>Currently processed node </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$tag</em>&nbsp;</td><td>Tag name to look for ('end' is automatically prepended) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$type</em>&nbsp;</td><td>Tag type - if <code>ignore</code>, then invalid ending tags will be ignored </td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>false</em>&nbsp;</td><td>When <code>$tag</code> is <code>null</code>, current token's type is not <code>'tag'</code> or parser has not encountered the tag yet </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>true</em>&nbsp;</td><td>When the tag has been found </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00235">235</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

<p>References <a class="el" href="_error_8php_source.html#l00058">TemplateError::E_INVALID_SYNTAX</a>.</p>

<p>Referenced by <a class="el" href="_compiler_ex_8php_source.html#l00274">parseTokenStream()</a>.</p>

</div>
</div><p>
<a class="anchor" name="c14ed87a62f7b5a59b0e9fe5ce72b4b6"></a><!-- doxytag: member="TemplateCompilerEx::createNodeFromToken" ref="c14ed87a62f7b5a59b0e9fe5ce72b4b6" args="(TemplateNodeEx $node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::createNodeFromToken           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $&nbsp;</td>
          <td class="paramname"> <em>node</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Converts current token's array into the node, and adds it to given node's children. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>$node</em>&nbsp;</td><td>Node to append child to </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00261">261</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

<p>References <a class="el" href="_compiler_ex_8php_source.html#l00838">TemplateNodeEx::addChild()</a>.</p>

<p>Referenced by <a class="el" href="_compiler_ex_8php_source.html#l00274">parseTokenStream()</a>.</p>

</div>
</div><p>
<a class="anchor" name="9cc09b0d1f776e7f4361e9e41dd3bb10"></a><!-- doxytag: member="TemplateCompilerEx::parseTokenStream" ref="9cc09b0d1f776e7f4361e9e41dd3bb10" args="(TemplateNodeEx $node, array &amp;$tokens, $parseUntil=null, $blockTagType=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::parseTokenStream           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array &amp;$&nbsp;</td>
          <td class="paramname"> <em>tokens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>parseUntil</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>blockTagType</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parses token stream until it runs out of tokens, or when it encounters given tag name. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>$node</em>&nbsp;</td><td>Currently processed node, newly constructed children will be appended to it </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>$tokens</em>&nbsp;</td><td>Token stream </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$parseUntil</em>&nbsp;</td><td>If not null, then parser will halt when it encounters tag with that name </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$blockTagType</em>&nbsp;</td><td>Type of the block tag (either <code>block</code> or <code>ignore</code>) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00274">274</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

<p>References <a class="el" href="_compiler_ex_8php_source.html#l00261">createNodeFromToken()</a>, <a class="el" href="_compiler_ex_8php_source.html#l00235">parserEncounteredEndTag()</a>, and <a class="el" href="_compiler_ex_8php_source.html#l00191">parserGetNextToken()</a>.</p>

<p>Referenced by <a class="el" href="_compiler_ex_8php_source.html#l00174">createAST()</a>.</p>

</div>
</div><p>
<a class="anchor" name="3f16537377363532ad1d4fd33b6a4fca"></a><!-- doxytag: member="TemplateCompilerEx::generateCode" ref="3f16537377363532ad1d4fd33b6a4fca" args="(TemplateNodeEx $root)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::generateCode           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $&nbsp;</td>
          <td class="paramname"> <em>root</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructs blocks and generates code for the entire AST. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$root</em>&nbsp;</td><td>Root node of the AST </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Array of the constructed code blocks </dd></dl>
<dl class="todo" compact><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Is it needed, or maybe <a class="el" href="class_template_compiler_ex.html#13570ae4a6d834431eeb3c84a5051ac3">TemplateCompilerEx::compile</a> should do it? </dd></dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00317">317</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

<p>References <a class="el" href="_compiler_ex_8php_source.html#l00345">createBlock()</a>.</p>

<p>Referenced by <a class="el" href="_compiler_ex_8php_source.html#l00117">compile()</a>.</p>

</div>
</div><p>
<a class="anchor" name="91899408f7ddf3173a8932bb8277aad7"></a><!-- doxytag: member="TemplateCompilerEx::handleChildren" ref="91899408f7ddf3173a8932bb8277aad7" args="(array &amp;$children)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::handleChildren           </td>
          <td>(</td>
          <td class="paramtype">array &amp;$&nbsp;</td>
          <td class="paramname"> <em>children</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Generates code from given node's children. 
<p>
Accepts array instead of <a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> for greater flexibility.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$children</em>&nbsp;</td><td>Array to process </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Code as string </dd></dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00330">330</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

<p>References <a class="el" href="_compiler_ex_8php_source.html#l00356">handleNode()</a>.</p>

<p>Referenced by <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l01321">TemplateStdLibExPlugin::commonIfEqual()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l00799">TemplateStdLibExPlugin::handleTAutoEscape()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l00975">TemplateStdLibExPlugin::handleTFor()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l01300">TemplateStdLibExPlugin::handleTIf()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l01120">TemplateStdLibExPlugin::handleTIfChanged()</a>, and <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l01383">TemplateStdLibExPlugin::handleTSpaceless()</a>.</p>

</div>
</div><p>
<a class="anchor" name="616eb81be4f686387ecd3f778eca26a5"></a><!-- doxytag: member="TemplateCompilerEx::createBlock" ref="616eb81be4f686387ecd3f778eca26a5" args="($block, TemplateNodeEx $node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::createBlock           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $&nbsp;</td>
          <td class="paramname"> <em>node</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates code block from raw node. 
<p>
Part of exposed compiler API.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$block</em>&nbsp;</td><td>Name of the block - in form of loop:XXX or block:XXX. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$node</em>&nbsp;</td><td>Node to process </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_template_compiler_ex.html#91899408f7ddf3173a8932bb8277aad7" title="Generates code from given node&#39;s children.">TemplateCompilerEx::handleChildren</a> </dd></dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00345">345</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

<p>Referenced by <a class="el" href="_compiler_ex_8php_source.html#l00317">generateCode()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l00816">TemplateStdLibExPlugin::handleTBlock()</a>, and <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l00931">TemplateStdLibExPlugin::handleTFilter()</a>.</p>

</div>
</div><p>
<a class="anchor" name="773e98ffac99fdbe9f8934768f840d3c"></a><!-- doxytag: member="TemplateCompilerEx::handleNode" ref="773e98ffac99fdbe9f8934768f840d3c" args="(TemplateNodeEx $node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::handleNode           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $&nbsp;</td>
          <td class="paramname"> <em>node</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates code from given node. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$node</em>&nbsp;</td><td>Node to process </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Code as string </dd></dl>
<dl class="todo" compact><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>Maybe it should be merged with <a class="el" href="class_template_compiler_ex.html#91899408f7ddf3173a8932bb8277aad7">TemplateCompilerEx::handleChildren</a>? </dd></dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00356">356</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

<p>Referenced by <a class="el" href="_compiler_ex_8php_source.html#l00330">handleChildren()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f0951cb966c81753464771dfaeffa625"></a><!-- doxytag: member="TemplateCompilerEx::handleTag" ref="f0951cb966c81753464771dfaeffa625" args="(TemplateNodeEx $node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::handleTag           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $&nbsp;</td>
          <td class="paramname"> <em>node</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handles <code>'blockTag'</code> and 'inlineTag' nodes. 
<p>
Calls proper tag handler (see <a class="el" href="extending-st.html#extending-st-handlers">Extending: handlers</a>).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$node</em>&nbsp;</td><td>Tag node to process </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Code as string </dd></dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00372">372</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="d4a05c2ff0b4e3ae9ee530780dc129b1"></a><!-- doxytag: member="TemplateCompilerEx::handleVariable" ref="d4a05c2ff0b4e3ae9ee530780dc129b1" args="(TemplateNodeEx $node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::handleVariable           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $&nbsp;</td>
          <td class="paramname"> <em>node</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handles <code>'var'</code> node. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$node</em>&nbsp;</td><td>Variable node to process </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Code as string </dd></dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00401">401</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="8efc4fef1f377e69631fe3de4c2033e3"></a><!-- doxytag: member="TemplateCompilerEx::parseVariableExpression" ref="8efc4fef1f377e69631fe3de4c2033e3" args="(TemplateNodeEx $node, $variable)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::parseVariableExpression           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>variable</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parses variable expression, and creates runtime PHP access code. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$node</em>&nbsp;</td><td>Source node </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$variable</em>&nbsp;</td><td>Variable expression to parse </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Array(access code, existence checking code) </dd></dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00423">423</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

<p>References <a class="el" href="_utils_8php_source.html#l00019">TemplateUtils::escape()</a>.</p>

<p>Referenced by <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l01321">TemplateStdLibExPlugin::commonIfEqual()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l00843">TemplateStdLibExPlugin::handleTCycle()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l00943">TemplateStdLibExPlugin::handleTFirstOf()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l00975">TemplateStdLibExPlugin::handleTFor()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l01120">TemplateStdLibExPlugin::handleTIfChanged()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l01352">TemplateStdLibExPlugin::handleTInclude()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l01369">TemplateStdLibExPlugin::handleTNow()</a>, and <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l01192">TemplateStdLibExPlugin::parseIfExpression()</a>.</p>

</div>
</div><p>
<a class="anchor" name="9e9d99501cd4def7eb25dc93cbef94b5"></a><!-- doxytag: member="TemplateCompilerEx::generateVariableAST" ref="9e9d99501cd4def7eb25dc93cbef94b5" args="($variable)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::generateVariableAST           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>variable</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Generates syntax tree (using nested arrays ATM) from given variable expression. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$variable</em>&nbsp;</td><td>Variable expression to parse </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Arrayized AST </dd></dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00442">442</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="f68b6944da2fc99dfda0c7a89f11656d"></a><!-- doxytag: member="TemplateCompilerEx::generateVariableCode" ref="f68b6944da2fc99dfda0c7a89f11656d" args="(TemplateNodeEx $node, &amp;$ast)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::generateVariableCode           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>ast</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Recursively parses variable AST, and generates PHP access code. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$node</em>&nbsp;</td><td>Source node </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$ast</em>&nbsp;</td><td>AST to process </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Access code </dd></dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00464">464</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="0e954efa4b344518798797fe3bc6dd14"></a><!-- doxytag: member="TemplateCompilerEx::parseFilterChain" ref="0e954efa4b344518798797fe3bc6dd14" args="(TemplateNodeEx $node, $filterExpr, $code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::parseFilterChain           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>filterExpr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>code</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handles filter chains. 
<p>
Wraps given code, and returns new one.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$node</em>&nbsp;</td><td>Filter chain source node </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$filterExpr</em>&nbsp;</td><td>Filter chain expression (e.g. a|b|c:d) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$code</em>&nbsp;</td><td>Code to wrap in filters </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>New code that uses filters </dd></dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00528">528</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

<p>References <a class="el" href="_utils_8php_source.html#l00019">TemplateUtils::escape()</a>, <a class="el" href="_utils_8php_source.html#l00057">TemplateUtils::split()</a>, and <a class="el" href="_utils_8php_source.html#l00079">TemplateUtils::splitEscaped()</a>.</p>

<p>Referenced by <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l01321">TemplateStdLibExPlugin::commonIfEqual()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l00931">TemplateStdLibExPlugin::handleTFilter()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l01369">TemplateStdLibExPlugin::handleTNow()</a>, and <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l01192">TemplateStdLibExPlugin::parseIfExpression()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a45b715a26c3bd45064f4eee890c1dad"></a><!-- doxytag: member="TemplateCompilerEx::commonVerifyElement" ref="a45b715a26c3bd45064f4eee890c1dad" args="(TemplateNodeEx $node, $element, &amp;$name, array &amp;$args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::commonVerifyElement           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>element</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array &amp;$&nbsp;</td>
          <td class="paramname"> <em>args</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Verifies correctness of given element. 
<p>
Checks whether: <ul>
<li>
Element exists </li>
<li>
Element's handler is callable </li>
<li>
Enough arguments have been provided </li>
</ul>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$node</em>&nbsp;</td><td>Template node representing element </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$element</em>&nbsp;</td><td>Element type - <code>'tag'</code> or <code>'filter'</code> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$name</em>&nbsp;</td><td>Element's name </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$args</em>&nbsp;</td><td>Element's arguments </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Element's info array </dd></dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00580">580</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

<p>References <a class="el" href="_utils_8php_source.html#l00191">TemplateUtils::checkIfAllowed()</a>, <a class="el" href="_error_8php_source.html#l00053">TemplateError::E_INVALID_HANDLER</a>, <a class="el" href="_error_8php_source.html#l00058">TemplateError::E_INVALID_SYNTAX</a>, <a class="el" href="_error_8php_source.html#l00047">TemplateError::E_UNKNOWN_FILTER</a>, <a class="el" href="_error_8php_source.html#l00042">TemplateError::E_UNKNOWN_TAG</a>, <a class="el" href="_utils_8php_source.html#l00176">TemplateUtils::panic()</a>, and <a class="el" href="_utils_8php_source.html#l00045">TemplateUtils::strip()</a>.</p>

</div>
</div><p>
<a class="anchor" name="49ac9c78629669903684589ebcd76033"></a><!-- doxytag: member="TemplateCompilerEx::handleLoadBuiltin" ref="49ac9c78629669903684589ebcd76033" args="(TemplateCompilerEx $compiler, TemplateNodeEx $node, &amp;$tag, array &amp;$args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::handleLoadBuiltin           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_template_compiler_ex.html">TemplateCompilerEx</a> $&nbsp;</td>
          <td class="paramname"> <em>compiler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array &amp;$&nbsp;</td>
          <td class="paramname"> <em>args</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handler for <code>load</code> built-in tag. 
<p>
For handlers reference, see <a class="el" href="extending-st.html#extending-st-handlers">Extending: handlers</a>. For standard and built-in tags reference, see <a class="el" href="stdlib.html#stdlib-tags">Standard tags</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$compiler</em>&nbsp;</td><td>Compiler handle (<a class="el" href="class_template_compiler_ex.html">TemplateCompilerEx</a> instance) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$node</em>&nbsp;</td><td>Node handle (<a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> instance, see <a class="el" href="extending-st.html#extending-st-ast">Extending: AST nodes</a>) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$tag</em>&nbsp;</td><td>Tag name (as string) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$args</em>&nbsp;</td><td>Tag arguments (as array) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00628">628</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

<p>References <a class="el" href="_error_8php_source.html#l00063">TemplateError::E_UNKNOWN_PLUGIN</a>.</p>

</div>
</div><p>
<a class="anchor" name="c5ba453fe0497c6a97e01b3ecc7b9c30"></a><!-- doxytag: member="TemplateCompilerEx::handleCommentBuiltin" ref="c5ba453fe0497c6a97e01b3ecc7b9c30" args="(TemplateCompilerEx $compiler, TemplateNodeEx $node, &amp;$tag, array &amp;$args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::handleCommentBuiltin           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_template_compiler_ex.html">TemplateCompilerEx</a> $&nbsp;</td>
          <td class="paramname"> <em>compiler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array &amp;$&nbsp;</td>
          <td class="paramname"> <em>args</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handler for <code>comment</code> built-in tag. 
<p>
For handlers reference, see <a class="el" href="extending-st.html#extending-st-handlers">Extending: handlers</a>. For standard and built-in tags reference, see <a class="el" href="stdlib.html#stdlib-tags">Standard tags</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$compiler</em>&nbsp;</td><td>Compiler handle (<a class="el" href="class_template_compiler_ex.html">TemplateCompilerEx</a> instance) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$node</em>&nbsp;</td><td>Node handle (<a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> instance, see <a class="el" href="extending-st.html#extending-st-ast">Extending: AST nodes</a>) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$tag</em>&nbsp;</td><td>Tag name (as string) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$args</em>&nbsp;</td><td>Tag arguments (as array) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00649">649</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="8f7f10bdd17ee4be906b39cff3f0d13d"></a><!-- doxytag: member="TemplateCompilerEx::raise" ref="8f7f10bdd17ee4be906b39cff3f0d13d" args="(TemplateNodeEx $node, $message, $code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::raise           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>code</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Raises an error, appending "(in template &lt;file&gt; somewhere around line &lt;line&gt;)" using given node. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$node</em>&nbsp;</td><td>Node producing an error </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$message</em>&nbsp;</td><td>Error message </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$code</em>&nbsp;</td><td>Error code </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_template_error.html" title="Main and currently the only exception type thrown by SithTemplate internals.">TemplateError</a> </dd></dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00665">665</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

<p>Referenced by <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l00975">TemplateStdLibExPlugin::handleTFor()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f8bc3411f0f8bcfbd153a8d56f0ae2e7"></a><!-- doxytag: member="TemplateCompilerEx::raiseIf" ref="f8bc3411f0f8bcfbd153a8d56f0ae2e7" args="($cond, TemplateNodeEx $node, $message, $code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::raiseIf           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>cond</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>code</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Shorthand for conditional call to <a class="el" href="class_template_compiler_ex.html#8f7f10bdd17ee4be906b39cff3f0d13d">TemplateCompilerEx::raise</a>. 
<p>
Won't raise if <code>$cond</code> is <code>false</code>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$cond</em>&nbsp;</td><td>Condition value as boolean </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$node</em>&nbsp;</td><td>Node producing an error </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$message</em>&nbsp;</td><td>Error message </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$code</em>&nbsp;</td><td>Error code </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_template_error.html" title="Main and currently the only exception type thrown by SithTemplate internals.">TemplateError</a> </dd></dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00682">682</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

<p>Referenced by <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l01321">TemplateStdLibExPlugin::commonIfEqual()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l00799">TemplateStdLibExPlugin::handleTAutoEscape()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l00816">TemplateStdLibExPlugin::handleTBlock()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l00843">TemplateStdLibExPlugin::handleTCycle()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l00911">TemplateStdLibExPlugin::handleTExtends()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l00943">TemplateStdLibExPlugin::handleTFirstOf()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l00975">TemplateStdLibExPlugin::handleTFor()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l01120">TemplateStdLibExPlugin::handleTIfChanged()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l01394">TemplateStdLibExPlugin::handleTTemplateTag()</a>, <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l01192">TemplateStdLibExPlugin::parseIfExpression()</a>, and <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l01178">TemplateStdLibExPlugin::parseIfExpressionCheckParens()</a>.</p>

</div>
</div><p>
<a class="anchor" name="9ce1b5f9a87d8fdbadfad18bb440efff"></a><!-- doxytag: member="TemplateCompilerEx::findAlternativeBranch" ref="9ce1b5f9a87d8fdbadfad18bb440efff" args="(TemplateNodeEx $node, $tag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::findAlternativeBranch           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_template_node_ex.html">TemplateNodeEx</a> $&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Used to find and isolate alternative branch of given node, starting with given inline tag. 
<p>
Can be used wherever alternative (e.g. <code>{% else %}</code>) branch cannot be implemented by simply inlining some code (e.g. <code>} else {</code>).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$node</em>&nbsp;</td><td>Current node </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$tag</em>&nbsp;</td><td>Tag starting alternative branch </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Array(main nodes, alternative branch nodes) </dd></dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00695">695</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

<p>Referenced by <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l00975">TemplateStdLibExPlugin::handleTFor()</a>, and <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l01120">TemplateStdLibExPlugin::handleTIfChanged()</a>.</p>

</div>
</div><p>
<a class="anchor" name="0cee437cbd376a2ad926de8b745e120c"></a><!-- doxytag: member="TemplateCompilerEx::generateUniqueBlock" ref="0cee437cbd376a2ad926de8b745e120c" args="($idPrefix, $blockPrefix= 'custom:', $keyLength=5)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::generateUniqueBlock           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>idPrefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>blockPrefix</em> = <code>'custom:'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>keyLength</em> = <code>5</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Generates prefixed block name that is guaranteed to be unique in current template. 
<p>
By default generates 5-character unique key using combination of <code>uniqid</code>, <code>mt_rand</code> and <code>md5</code>. Beware: potential infinite loop - if key length is too small, then key space might be exhausted, which will lead to infinite loop in this function. Increase <code>$keyLength</code> if your usage could lead to this condition.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$idPrefix</em>&nbsp;</td><td><code>uniqid</code> prefix </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$blockPrefix</em>&nbsp;</td><td>Unique key will be prefixed with this. Default: <code>custom:</code>. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$keyLength</em>&nbsp;</td><td>Length of generated key. Must be lower than 32. Default: 5. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00729">729</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

<p>References <a class="el" href="_utils_8php_source.html#l00176">TemplateUtils::panic()</a>.</p>

<p>Referenced by <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l00975">TemplateStdLibExPlugin::handleTFor()</a>, and <a class="el" href="_std_lib_ex_8plugin_8php_source.html#l01120">TemplateStdLibExPlugin::handleTIfChanged()</a>.</p>

</div>
</div><p>
<a class="anchor" name="db76060dfb9e369b12ee21bea4a51b8d"></a><!-- doxytag: member="TemplateCompilerEx::runHooks" ref="db76060dfb9e369b12ee21bea4a51b8d" args="($hookPoint, array $args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::runHooks           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>hookPoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array $&nbsp;</td>
          <td class="paramname"> <em>args</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Runs handlers associated with given hook-point. 
<p>
Every handler might return <code>true</code> boolean value, to break the chain and finish hook execution.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$hookPoint</em>&nbsp;</td><td>Hook-point to execute </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>$args</em>&nbsp;</td><td>Array of hook arguments </td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>true</em>&nbsp;</td><td>Some handler has broken the chain </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>false</em>&nbsp;</td><td>All handlers have been executed, and none has broken the chain </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00756">756</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

<p>References <a class="el" href="_error_8php_source.html#l00053">TemplateError::E_INVALID_HANDLER</a>, and <a class="el" href="_utils_8php_source.html#l00045">TemplateUtils::strip()</a>.</p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="7436ce4d99eb25b14012d0fea3329545"></a><!-- doxytag: member="TemplateCompilerEx::$settings" ref="7436ce4d99eb25b14012d0fea3329545" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::$settings = null          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Current settings (reference to <a class="el" href="class_template_environ.html#1a6916c9094781e70523b3ed7ba20b68">TemplateEnviron::$settings</a>). 
<p>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00033">33</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="c6a93435059bcde30df1f24bfbfa53e3"></a><!-- doxytag: member="TemplateCompilerEx::$plugins" ref="c6a93435059bcde30df1f24bfbfa53e3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::$plugins = null          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Registry of available plugins. 
<p>
<a class="el" href="class_template_plugins.html">TemplatePlugins</a> instance. 
<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00039">39</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="e1e96f5d9cdab5a8cef660e9bd0347c1"></a><!-- doxytag: member="TemplateCompilerEx::$loadedPlugins" ref="e1e96f5d9cdab5a8cef660e9bd0347c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::$loadedPlugins = array()          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Registry of loaded plugins (per-template). 
<p>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00043">43</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="96c1fa9a15fb7c1a36a3a212073f97f4"></a><!-- doxytag: member="TemplateCompilerEx::$parserCurrentToken" ref="96c1fa9a15fb7c1a36a3a212073f97f4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::$parserCurrentToken = null<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Currently processed token. 
<p>
Assoc. array containing two keys - <code>'type'</code> and <code>'content'</code>. 
<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00050">50</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="04c4c26c3f5b84a7f2743fd6253fbce9"></a><!-- doxytag: member="TemplateCompilerEx::$parserCurrentLine" ref="04c4c26c3f5b84a7f2743fd6253fbce9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::$parserCurrentLine = 1<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Currently processed line (approx). 
<p>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00054">54</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="f3d5cc74f7c0cc06676b50a5efe95112"></a><!-- doxytag: member="TemplateCompilerEx::$parserCurrentFile" ref="f3d5cc74f7c0cc06676b50a5efe95112" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::$parserCurrentFile = null<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Currently processed template. 
<p>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00058">58</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="b61b2762e9cea921fd26a4153067f983"></a><!-- doxytag: member="TemplateCompilerEx::$parserTokenRegexp" ref="b61b2762e9cea921fd26a4153067f983" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::$parserTokenRegexp = '~(\{\%.*?\%\})|(\{\{.*?\}\})|(\{\#.*?\#\})~u'<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Regular expression used to split template into tokens. 
<p>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00062">62</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="6c58447a001891500c54f1e9afc30b20"></a><!-- doxytag: member="TemplateCompilerEx::$blocks" ref="6c58447a001891500c54f1e9afc30b20" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::$blocks = array()          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Already constructed code blocks. 
<p>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00068">68</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="a33edba89e0e64230b47973bbf33ef4e"></a><!-- doxytag: member="TemplateCompilerEx::$metadata" ref="a33edba89e0e64230b47973bbf33ef4e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::$metadata = array()          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Template's metadata. 
<p>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00072">72</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="47169b58844fe3ddabd63f7d6af5067d"></a><!-- doxytag: member="TemplateCompilerEx::$className" ref="47169b58844fe3ddabd63f7d6af5067d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TemplateCompilerEx::$className = null          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Template's classname. 
<p>

<p>Definition at line <a class="el" href="_compiler_ex_8php_source.html#l00076">76</a> of file <a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_compiler_ex_8php_source.html">CompilerEx.php</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Sep 5 21:15:44 2009 for SithTemplate by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
